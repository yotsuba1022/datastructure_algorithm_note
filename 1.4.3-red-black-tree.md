# Red-Black Tree \(紅黑樹\)

樹的平衡: 所謂樹的平衡指的是, 樹中每個節點的左邊後代的數目應該與其右邊後代的數目大致相等\(不用完全一樣多\).

對於用隨機數構成的二元樹, 一般來說是大致平衡的, 但是對於有順序的資料, 就可能導致二元樹極度的不平衡了. 在最極端的情況下, 甚至會**退化成list**, 此時的時間複雜度會退化到O\(n\), 而不再是平衡樹的O\(logn\)了.

![](/assets/rbtree-1.png)

紅黑樹\(R-B Tree\): 紅黑樹是增加了某些特性的二元搜尋樹, 它可以保持樹的大致平衡. 主要的思路為: 在插入或刪除節點的時候, 檢查是否破壞了樹的某些特徵, 若破壞了, 則進行糾正, 進而保持樹的平衡.

紅黑樹的特徵:

1. 節點都有顏色\(紅/黑\)
2. 在插入和刪除的過程中, 要遵循保持這些顏色的不同排列的規則

紅黑樹的規則\(紅黑規則\):

1. 每個節點不是紅就是黑的\(廢話\)
2. 根總是黑色的
3. 若節點是紅色的, 則其子節點必為黑色, 反之不必為真\(亦即若節點是黑色, 則其子節點可為紅也可為黑\)



